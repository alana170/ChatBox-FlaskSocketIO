<!DOCTYPE html>
<head>
    <style>
        body {
          background-image: url('/static/bkg2.jpg');
          background-repeat: no-repeat;
          background-attachment: fixed; 
          background-size: 100% 100%;
        }
    </style>    
    <script>
        function show() {
            document.getElementById('textfield').style.display = "block";
            }
            
        function hide(){
            document.getElementById('textfield').style.display = "none";
            }
        function div_show() {
            document.getElementById('abc').style.display = "block";
            }
            
        function div_hide(){
            document.getElementById('abc').style.display = "none";
            }
        function check_empty() {
            
        }
        function add_channel() {
            let ul = document.querySelector("#channelList");
            let li = document.createElement("li");
            li.classList.add("list-group-item");
            li.innerHTML = document.querySelector('#name').value;
            li.addEventListener("click", () => {
            localStorage.setItem("channel", document.querySelector('#name').value);
       // socket.emit("get messages", { name });
       // change_message_title(name);
        //show_active_channel(name);
                // if delete channel is clicked on....
        //document.querySelector('#delete-channel').onclick = () => {
          //  localStorage.removeItem("channel");
            //clear_messages();
            //socket.emit("delete channel", { name: name });
        //};
    });
    ul.appendChild(li);
    return false;
}


   

    </script>
    <title> ChatCat </title>
    <meta charset="UTF-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content = "ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel= "stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <nav class="navbar navbar-light" style="background-color: rgb(187, 163, 235);">
        <h3 id ="left" class= "navbar-text title"> Hello {{name}}! </h3>
        <h3 id ="left" class="navbar-text bigtitle"> ChatCat </h3>
        <img id = "cat" class = "rounded" src ="/static/cat_icon.png" alt ="cat" height="60px" width="100px"> 
        <span>
        </span>
      </nav>
      <div class ="sidebar">
        <div style= "align-content:center; align-items: center;margin-left:12.5%; margin-right:12.5%" class ="centered">
        <button onclick ="div_show()" modal data-target="#form" class ="centered btn btn-primary">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-plus-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"/>
            <path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"/>
            <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
        </svg> 
        Create a New Channel </button> </div>

        <div id="abc" class = "formbox centered">
            <!-- Popup Div Starts Here -->
            <div id="popupContact">
            <form>
            <button type="button" class="btn1" onclick="div_hide()"> <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"/>
                <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"/>
              </svg> </button>
            <h2>Create a New Channel</h2>
            <hr>
            <input style ="color:black;" class = "form-group" id="name" name="name" placeholder="ex: tennis, cats, weather" type="text" required>
            <button class="btn btn-success" onclick= "add_channel()" id="submit">Create</button>
            </form>
            </div>
            <!-- Popup Div Ends Here -->
        </div>

        <h1 class= "bigtitle"> Chatrooms </h1>  
        <ul id = "channelList"> </ul>

    </div> 

      <div id ="textfield" style= "display:none">
      <form class="form-inline">
        <input size = "125" class ="form-control" type="text" placeholder="Send a text.">
        <button type="submit" class="btn btn-success">Send</button>
      </form>
    </div>

</body>

</html>